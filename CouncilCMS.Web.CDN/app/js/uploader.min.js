(function(n){n.fn.uploader=function(t){function u(t){return t.each(function(t){r[t]=f(n(this));console.log("uploader-created "+t)})}function f(n){var t=new plupload.Uploader({runtimes:"html5,html4",url:i.url,browse_button:i.browseButton||n.find(".btn-upload")[0],container:n.find(i.container)[0],drop_element:n.find(i.dropElement)[0],max_file_size:i.maxFileSize,resize:{width:1920,quality:95},chunk_size:i.chunk,multi_selection:i.multiSelection,filters:[{title:"all",extensions:i.extensions}],unique_names:!0,init:{StateChaged:function(n){if(i.onChange)i.onChange(n)},FilesAdded:function(n,t){if(i.onAdd)i.onAdd(n,t);else return n.start()},FileUploaded:function(n,t,r){if(i.onUpload)i.onUpload(n,t,r)},ChunkUploaded:function(n,t,r){if(i.onChunkUpload)i.onChunkUpload(n,t,r)},Error:function(n,t){if(i.onError)i.onError(n,t)}}});return t.init(),t}var r=[],i=n.extend({url:"/api/upload/uploadimage",browseButton:null,container:".upload-area",maxFileSize:"200mb",dropElement:".upload-area",extensions:"*",multiSelection:!0,chunk:0,onAdd:null,onChunkUpload:null,onUpload:null,onError:null,onChange:null},t);return u(this),r}})(jQuery);